(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f2206dc"],{"00e2":function(t,e,r){},"11c7":function(t,e,r){"use strict";r("f3f1")},2708:function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return c}));r("fb6a");var n=r("c1df"),s=r.n(n),a={filters:{fromNow:function(t){return t?s()(t).fromNow():"-"}}},i={filters:{emptyImage:function(t){return t||"https://i.imgur.com/S4PE66O.png"}}},o={filters:{emptyCover:function(t){return t||"https://i.imgur.com/K6Azg87.png"}}},c={filters:{contentToLong:function(t){return t.length<=50?t:t.slice(0,49)+"..."}}}},"369c":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col main-area-rwd main-container vh100scroll"},[r("div",{staticClass:"control-area"},[r("div",{staticClass:"previous-page"},[r("div",{staticClass:"arrow-icon",on:{click:function(e){return t.$router.push("/")}}},[r("ArrowIcon")],1),r("div",{staticClass:"user-detail"},[r("div",{staticClass:"user-name"},[t._v(t._s(t.userProfile.name))]),r("div",{staticClass:"tweet-count"},[t._v(t._s(t.userProfile.tweetsCount)+" 推文")])])]),r("NavTabs",{attrs:{initialUserId:t.userProfile.id}})],1),r("UsersFollowersList",{attrs:{initialFollowers:t.followers}})],1)},s=[],a=r("5530"),i=(r("96cf"),r("1da1")),o=r("8bb1"),c=r("7034"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-follows-list"},[0===t.followers.length?r("div",{staticClass:"warning-sign"},[t._v("沒有跟隨者")]):t._e(),t._l(t.followers,(function(e){return r("div",{key:e.id,staticClass:"user"},[r("router-link",{attrs:{to:{name:"user",params:{userId:e.id}}}},[r("img",{staticClass:"user-avator",attrs:{src:t._f("emptyImage")(e.avatar||""),alt:""}})]),r("div",{staticClass:"user-detail"},[r("div",{staticClass:"user-and-follow-btn"},[r("div",{staticClass:"user-info"},[r("div",{staticClass:"user-name"},[t._v(t._s(e.name))]),r("div",{staticClass:"user-at"},[t._v("@"+t._s(e.account))])]),e.id!==t.currentUser.id?r("div",[e.isFollowed?r("button",{staticClass:"btn follow-btn active",attrs:{type:"submit",id:"follow-btn"},on:{click:function(r){return t.deleteFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):r("button",{staticClass:"btn btn-primary follow-btn",attrs:{type:"submit",id:"follow-btn"},on:{click:function(r){return t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])]):t._e()]),r("div",{staticClass:"user-description"},[t._v(" "+t._s(t._f("contentToLong")(e.introduction||"-- no introduction --"))+" ")])])],1)}))],2)},u=[],f=(r("d81d"),r("2708")),d=r("1602"),p=r("2fa3"),v=r("2f62"),w={components:{},props:{initialFollowers:{type:Array,required:!0}},data:function(){return{followers:this.initialFollowers}},computed:Object(a["a"])({},Object(v["b"])(["currentUser"])),watch:{initialFollowers:function(t){this.followers=t}},methods:{addFollowing:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].addFollowing({id:t});case 3:if(n=r.sent,s=n.data,"success"===s.status){r.next=7;break}throw new Error(s.message);case 7:e.followers=e.followers.map((function(e){return e.id===t?Object(a["a"])(Object(a["a"])({},e),{},{isFollowed:!0}):e})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),p["a"].fire({icon:"error",title:"無法跟隨，請稍後再試"}),console.log("error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},deleteFollowing:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].deleteFollowing({userId:t});case 3:if(n=r.sent,s=n.data,"success"===s.status){r.next=7;break}throw new Error(s.message);case 7:e.followers=e.followers.map((function(e){return e.id===t?Object(a["a"])(Object(a["a"])({},e),{},{isFollowed:!1}):e})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),p["a"].fire({icon:"error",title:"無法取消跟隨，請稍後再試"}),console.log("error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()}},mixins:[f["c"],f["a"]]},h=w,m=(r("5450"),r("2877")),b=Object(m["a"])(h,l,u,!1,null,"614038d1",null),g=b.exports,C={components:{NavTabs:o["a"],ArrowIcon:c["a"],UsersFollowersList:g},data:function(){return{userProfile:{id:-1},followers:[]}},created:function(){var t=this.$route.params.userId;this.fetchUserProfile(t),this.fetchUserFollowers(t)},beforeRouteUpdate:function(t,e,r){var n=t.params.userId;this.fetchUserProfile(n),this.fetchUserFollowers(n),r()},methods:{fetchUserProfile:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getUserProfile({userId:t});case 3:if(n=r.sent,e.userProfile=Object(a["a"])(Object(a["a"])({},e.userProfile),n.data),200===n.status){r.next=7;break}throw new Error(n);case 7:r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),p["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},fetchUserFollowers:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getUserFollowers({userId:t});case 3:if(n=r.sent,console.log(n),e.followers=n.data,200===n.status){r.next=8;break}throw new Error(n);case 8:r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),p["a"].fire({icon:"error",title:"無法取得跟隨者資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}},I=C,_=(r("11c7"),Object(m["a"])(I,n,s,!1,null,"7d1e238a",null));e["default"]=_.exports},"3eb3":function(t,e,r){},5450:function(t,e,r){"use strict";r("00e2")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),s=r("5899"),a="["+s+"]",i=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(o,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},7034:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"14",viewBox:"0 0 17 14",fill:"none"}},[r("path",{attrs:{d:"M16 5.99988H3.41399L7.70699 1.70687C8.09699 1.31687 8.09699 0.683875 7.70699 0.292875C7.31699 -0.0981249 6.68399 -0.0971249 6.29299 0.292875L0.292988 6.29288C-0.0970117 6.68288 -0.0970117 7.31588 0.292988 7.70687L6.29299 13.7069C6.48799 13.9019 6.74299 13.9999 6.99999 13.9999C7.25699 13.9999 7.51199 13.9019 7.70699 13.7069C8.09699 13.3169 8.09699 12.6839 7.70699 12.2929L3.41399 7.99988H16C16.553 7.99988 17 7.55288 17 6.99988C17 6.44688 16.553 5.99988 16 5.99988Z",fill:"black"}})])},s=[],a=r("2877"),i={},o=Object(a["a"])(i,n,s,!1,null,null,null);e["a"]=o.exports},7156:function(t,e,r){var n=r("861d"),s=r("d2bb");t.exports=function(t,e,r){var a,i;return s&&"function"==typeof(a=e.constructor)&&a!==r&&n(i=a.prototype)&&i!==r.prototype&&s(t,i),t}},"8bb1":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav justify-content"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followers",params:{userId:t.userId}}}},[t._v("跟隨者")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followings",params:{userId:t.userId}}}},[t._v("正在跟隨")])],1)])},s=[],a=(r("a9e3"),{props:{initialUserId:{type:Number,required:!0}},data:function(){return{userId:this.initialUserId}},watch:{initialUserId:function(t){console.log(t),this.userId=t}}}),i=a,o=(r("9d22"),r("2877")),c=Object(o["a"])(i,n,s,!1,null,"34617579",null);e["a"]=c.exports},"9d22":function(t,e,r){"use strict";r("3eb3")},a9e3:function(t,e,r){"use strict";var n=r("83ab"),s=r("da84"),a=r("94ca"),i=r("6eeb"),o=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),f=r("d039"),d=r("7c73"),p=r("241c").f,v=r("06cf").f,w=r("9bf2").f,h=r("58a8").trim,m="Number",b=s[m],g=b.prototype,C=c(d(g))==m,I=function(t){var e,r,n,s,a,i,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+l}for(a=l.slice(2),i=a.length,o=0;o<i;o++)if(c=a.charCodeAt(o),c<48||c>s)return NaN;return parseInt(a,n)}return+l};if(a(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var _,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(C?f((function(){g.valueOf.call(r)})):c(r)!=m)?l(new b(I(e)),r,x):I(e)},k=n?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),F=0;k.length>F;F++)o(b,_=k[F])&&!o(x,_)&&w(x,_,v(b,_));x.prototype=g,g.constructor=x,i(s,m,x)}},d81d:function(t,e,r){"use strict";var n=r("23e7"),s=r("b727").map,a=r("1dde"),i=r("ae40"),o=a("map"),c=i("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},f3f1:function(t,e,r){},fb6a:function(t,e,r){"use strict";var n=r("23e7"),s=r("861d"),a=r("e8b5"),i=r("23cb"),o=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),f=r("1dde"),d=r("ae40"),p=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),w=u("species"),h=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var r,n,u,f=c(this),d=o(f.length),p=i(t,d),v=i(void 0===e?d:e,d);if(a(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?s(r)&&(r=r[w],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return h.call(f,p,v);for(n=new(void 0===r?Array:r)(m(v-p,0)),u=0;p<v;p++,u++)p in f&&l(n,u,f[p]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-3f2206dc.d75ae987.js.map