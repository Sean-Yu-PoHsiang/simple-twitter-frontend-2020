(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6bc25b6"],{4067:function(t,e,a){"use strict";a("8520")},8520:function(t,e,a){},ce99:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col user-setting-wrapper vh100scroll"},[a("div",{staticClass:"title"},[t._v("帳戶設定")]),a("form",{staticClass:"input-forms",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-title"},[t._v("帳號")]),a("label",{staticClass:"form-label"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-title"},[t._v("名稱")]),a("label",{staticClass:"form-label"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-title"},[t._v("email")]),a("label",{staticClass:"form-label",attrs:{for:"inputEmail"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail","aria-describedby":"emailHelp"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("div",{staticClass:"form-text",attrs:{id:"emailHelp"}})]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-title"},[t._v("密碼")]),a("label",{staticClass:"form-label",attrs:{for:"password","aria-placeholder":"密碼"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"input-title"},[t._v("密碼確認")]),a("label",{staticClass:"form-label",attrs:{for:"password-confirm","aria-placeholder":"密碼確認"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],staticClass:"form-control",attrs:{type:"password",id:"password-confirm"},domProps:{value:t.checkPassword},on:{input:function(e){e.target.composing||(t.checkPassword=e.target.value)}}})]),t._m(0)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-end"},[a("button",{staticClass:"btn btn-submit",attrs:{type:"submit",id:"btn-submit"}},[t._v(" 儲存 ")])])}],i=(a("b0c0"),a("96cf"),a("1da1")),n=a("5530"),o=a("2f62"),c=a("7696"),l=a("2fa3"),u={components:{},data:function(){return{account:"",name:"",email:"",password:"",checkPassword:""}},created:function(){this.account=this.currentUser.account,this.name=this.currentUser.name,this.email=this.currentUser.email},computed:Object(n["a"])({},Object(o["b"])(["currentUser"])),methods:{handleSubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.name){e.next=5;break}return l["a"].fire({icon:"warning",title:"請填寫名稱"}),e.abrupt("return");case 5:if(t.account){e.next=10;break}return l["a"].fire({icon:"warning",title:"請填寫帳號"}),e.abrupt("return");case 10:if(t.email){e.next=15;break}return l["a"].fire({icon:"warning",title:"請填寫Email"}),e.abrupt("return");case 15:if(t.password){e.next=20;break}return l["a"].fire({icon:"warning",title:"請填寫密碼"}),e.abrupt("return");case 20:if(t.checkPassword){e.next=25;break}return l["a"].fire({icon:"warning",title:"請填寫密碼確認"}),e.abrupt("return");case 25:if(t.checkPassword===t.password){e.next=28;break}return l["a"].fire({icon:"warning",title:"密碼與密碼確認不符"}),e.abrupt("return");case 28:return e.prev=28,a={userId:t.currentUser.id,account:t.account,name:t.name,email:t.email,password:t.password,checkPassword:t.checkPassword},e.next=32,c["a"].EditUserSetting(a);case 32:if(r=e.sent,"error"!==r.status){e.next=35;break}throw new Error(r.message);case 35:a=Object(n["a"])(Object(n["a"])({},a),{},{password:"",checkPassword:""}),l["a"].fire({icon:"success",title:"修改成功！"}),t.$store.commit("setCurrentUser",a),t.$router.push({name:"home"}),e.next=45;break;case 41:e.prev=41,e.t0=e["catch"](28),console.log("err",e.t0),l["a"].fire({icon:"error",title:"無法儲存設定，".concat(e.t0)});case 45:case"end":return e.stop()}}),e,null,[[28,41]])})))()}}},m=u,p=(a("4067"),a("2877")),d=Object(p["a"])(m,r,s,!1,null,"feb12d22",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-b6bc25b6.c0e55a5b.js.map