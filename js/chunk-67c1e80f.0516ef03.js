(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67c1e80f"],{"07ac":function(t,e,r){var a=r("23e7"),n=r("6f53").values;a({target:"Object",stat:!0},{values:function(t){return n(t)}})},"13d5":function(t,e,r){"use strict";var a=r("23e7"),n=r("d58f").left,i=r("a640"),s=r("ae40"),o=r("2d00"),c=r("605d"),l=i("reduce"),u=s("reduce",{1:0}),d=!c&&o>79&&o<83;a({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2708:function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return c}));r("fb6a");var a=r("c1df"),n=r.n(a),i={filters:{fromNow:function(t){return t?n()(t).fromNow():"-"}}},s={filters:{emptyImage:function(t){return t||"https://i.imgur.com/S4PE66O.png"}}},o={filters:{emptyCover:function(t){return t||"https://i.imgur.com/K6Azg87.png"}}},c={filters:{contentToLong:function(t){return t.length<=50?t:t.slice(0,49)+"..."}}}},"41a1":function(t,e,r){},"45e8":function(t,e,r){},"498a":function(t,e,r){"use strict";var a=r("23e7"),n=r("58a8").trim,i=r("c8d2");a({target:"String",proto:!0,forced:i("trim")},{trim:function(){return n(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),n=r("5899"),i="["+n+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(s,"")),2&t&&(r=r.replace(o,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},"6c11":function(t,e,r){},"6f53":function(t,e,r){var a=r("83ab"),n=r("df75"),i=r("fc6a"),s=r("d1e7").f,o=function(t){return function(e){var r,o=i(e),c=n(o),l=c.length,u=0,d=[];while(l>u)r=c[u++],a&&!s.call(o,r)||d.push(t?[r,o[r]]:o[r]);return d}};t.exports={entries:o(!0),values:o(!1)}},7156:function(t,e,r){var a=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var i,s;return n&&"function"==typeof(i=e.constructor)&&i!==r&&a(s=i.prototype)&&s!==r.prototype&&n(t,s),t}},"84e8":function(t,e,r){"use strict";var a=r("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={getPublicChatRoomHistory:function(t){var e=t.userId;return a["b"].post("/chat/messages",{channelId:0,userId:e},{headers:{Authorization:"Bearer ".concat(n())}})},getPublicChatRoomUnread:function(t){var e=t.userId;return a["b"].post("/chat/public_unread",{userId:e},{headers:{Authorization:"Bearer ".concat(n())}})},getAllPrivateChatRooms:function(){return a["b"].get("/chat/all_private_rooms",{headers:{Authorization:"Bearer ".concat(n())}})},getPrivateChatRoomHistory:function(t){var e=t.channelId,r=t.userId;return a["b"].post("/chat/messages",{channelId:e,userId:r},{headers:{Authorization:"Bearer ".concat(n())}})},getPrivateChatRoomUnread:function(){return a["b"].get("/chat/private_unread",{headers:{Authorization:"Bearer ".concat(n())}})},getAllUsers:function(){return a["b"].get("/users?accumulatedNum=all",{headers:{Authorization:"Bearer ".concat(n())}})}}},"88e9":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-auto left-container left-area-rwd component-navbar"},[r("Navbar",{on:{"after-create-tweet":t.afterCreateTweet}})],1),r("router-view",{attrs:{newTweetsPayload:t.newTweetsPayload,addFollowingPayload:t.addFollowingPayload,deleteFollowingPayload:t.deleteFollowingPayload}}),r("div",{staticClass:"col-auto right-container right-area-rwd"},[r("TopFollowersUser",{staticClass:"component-top-followers-user",on:{"after-click-add-following":t.afterClickAddFollowingPayload,"after-click-delete-following":t.afterClickDeleteFollowingPayload}})],1)],1)])},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"top-followers"},[r("div",{staticClass:"title"},[t._v("跟隨誰")]),r("div",{staticClass:"user-list list-scroll"},t._l(t.topUsers,(function(e){return r("div",{key:e.id,staticClass:"user"},[r("div",{staticClass:"user-info"},[r("router-link",{attrs:{to:{name:"user",params:{userId:e.id}}}},[r("img",{staticClass:"user-avator",attrs:{src:e.avatar||"https://i.imgur.com/S4PE66O.png",alt:""}})]),r("div",{staticClass:"user-detail"},[r("router-link",{attrs:{to:{name:"user",params:{userId:e.id}}}},[r("div",{staticClass:"user-name"},[t._v(t._s(e.name))])]),r("router-link",{attrs:{to:{name:"user",params:{userId:e.id}}}},[r("div",{staticClass:"at-user"},[t._v("@"+t._s(e.account))])])],1)],1),e.isFollowed?r("button",{staticClass:"btn follow-btn",attrs:{type:"submit",id:"btn-is-following"},on:{click:function(r){return t.deleteFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):r("button",{staticClass:"btn follow-btn",attrs:{type:"submit",id:"btn-not-following"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])])})),0),r("button",{directives:[{name:"show",rawName:"v-show",value:4===t.topUsers.length,expression:"topUsers.length === 4"}],staticClass:"show-more-btn",on:{click:t.fetchMoreTopUsers}},[t._v(" 顯示更多 ")])])},s=[],o=(r("99af"),r("caad"),r("d81d"),r("a9e3"),r("96cf"),r("1da1")),c=r("5530"),l=r("1602"),u=r("2fa3"),d=r("2f62"),f={props:{},data:function(){return{topUsers:[]}},created:function(){this.fetchTopUsers()},destroyed:function(){},computed:Object(c["a"])({isShow:function(){var t=["/setting","/public-chatroom","/private-chatroom"];return!t.includes(this.$route.path)}},Object(d["b"])(["currentUser"])),methods:{fetchTopUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].getTopFollowersUser(0,4);case 3:if(r=e.sent,200===r.status){e.next=6;break}throw new Error(r.statusText);case 6:t.topUsers=r.data,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法取得推薦用戶資料，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchMoreTopUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].getTopFollowersUser(t.topUsers.length,4);case 3:if(r=e.sent,200===r.status){e.next=6;break}throw new Error(r.statusText);case 6:t.topUsers=t.topUsers.concat(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法增加推薦用戶資料，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},addFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l["a"].addFollowing({id:t});case 3:if(a=r.sent,n=a.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:if(e.topUsers=e.topUsers.map((function(e){return e.id===t?Object(c["a"])(Object(c["a"])({},e),{},{isFollowed:!0}):e})),Number(e.$route.params.userId)===e.currentUser.id){r.next=12;break}return r.abrupt("return");case 12:e.$emit("after-click-add-following",{userId:t});case 13:r.next=19;break;case 15:r.prev=15,r.t0=r["catch"](0),u["a"].fire({icon:"error",title:"無法跟隨，請稍後再試"}),console.log("error",r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,15]])})))()},deleteFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l["a"].deleteFollowing({userId:t});case 3:if(a=r.sent,n=a.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:if(e.topUsers=e.topUsers.map((function(e){return e.id===t?Object(c["a"])(Object(c["a"])({},e),{},{isFollowed:!1}):e})),Number(e.$route.params.userId)===e.currentUser.id){r.next=12;break}return r.abrupt("return");case 12:e.$emit("after-click-delete-following",{userId:t});case 13:r.next=19;break;case 15:r.prev=15,r.t0=r["catch"](0),u["a"].fire({icon:"error",title:"無法取消跟隨，請稍後再試"}),console.log("error",r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,15]])})))()}}},v=f,p=(r("9784"),r("2877")),C=Object(p["a"])(v,i,s,!1,null,"4ed7320e",null),h=C.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("input",{staticClass:"navbar-folding-checkbox d-none",attrs:{id:"navbar-folding-checkbox",type:"checkbox"}}),r("nav",{staticClass:"d-flex flex-column nav-wrapper"},[r("Logo",{staticClass:"mt-3 mb-5"}),r("div",[r("div",{staticClass:"nav-btn d-flex fonSize18 align-items-center"},[r("div",{staticClass:"d-flex align-items-center"},[r("div",[r("img",{staticClass:"navbar-avatar",attrs:{src:t.currentUser.avatar||"https://i.imgur.com/S4PE66O.png",alt:""}})]),r("p",{staticClass:"nav-link-title m-0"},[t._v("Hi~ "+t._s(t.currentUser.name))])])])]),r("div",{on:{click:t.foldNavbar}},[r("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:"/home"}},[r("div",{staticClass:"d-flex"},[r("IconHome",{staticClass:"nav-link-icon"}),r("p",{staticClass:"nav-link-title"},[t._v("首頁")])],1)])],1),r("div",{on:{click:t.foldNavbar}},[r("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:{name:"user",params:{userId:t.currentUser.id}}}},[r("div",{staticClass:"d-flex"},[r("IconUserProfile",{staticClass:"nav-link-icon"}),r("p",{staticClass:"nav-link-title"},[t._v("個人資料")])],1)])],1),r("div",{on:{click:t.foldNavbar}},[r("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:{name:"public-chat-room"}}},[r("div",{staticClass:"d-flex navbar-item"},[r("i",{staticClass:"far fa-comments nav-link-icon"}),r("p",{staticClass:"nav-link-title"},[t._v("公開聊天室")]),r("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.unread,expression:"unread !== 0"}],staticClass:"public-chat-unread"},[t._v(" "+t._s(t._f("unreadOver")(t.unread))+" ")])])])],1),r("div",{on:{click:t.foldNavbar}},[r("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:{name:"private-chat-room"}}},[r("div",{staticClass:"d-flex navbar-item"},[r("i",{staticClass:"far fa-envelope text-larger nav-link-icon"}),r("p",{staticClass:"nav-link-title"},[t._v("私人聊天室")]),r("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.privateUnread,expression:"privateUnread !== 0"}],staticClass:"private-chat-unread"},[t._v(" "+t._s(t._f("unreadOver")(t.privateUnread))+" ")])])])],1),r("div",{on:{click:t.foldNavbar}},[r("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:"/setting"}},[r("div",{staticClass:"d-flex"},[r("IconSetting",{staticClass:"nav-link-icon"}),r("p",{staticClass:"nav-link-title"},[t._v("設定")])],1)])],1),r("div",{on:{click:t.foldNavbar}},[t._m(1)]),r("button",{staticClass:"btn sign-out-btn d-flex fonSize18 align-items-center",attrs:{type:"button"},on:{click:t.signOut}},[r("div",{staticClass:"d-flex nav-btn"},[r("IconSignOut",{staticClass:"nav-link-icon"}),r("p",{staticClass:"nav-link-title"},[t._v("登出")])],1)])],1),r("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[t._m(2),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"d-flex"},[r("img",{attrs:{src:t.currentUser.avatar||"https://i.imgur.com/S4PE66O.png",alt:"no photo"}}),r("form",{staticClass:"d-flex flex-column w-100",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-textarea w-100",attrs:{name:"text",id:"newTweet",rows:"6",placeholder:"有什麼新鮮事？"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),r("div",{staticClass:"d-flex justify-content-end"},[t.description.length?r("div",[r("span",{staticClass:"contentAlert",class:{fontRed:t.isDescriptionOverSize}},[t._v(t._s(t.description.length))]),r("span",{staticClass:"contentAlert mr-3"},[t._v("/140")])]):t._e(),r("button",{staticClass:"btn-tweet-submit",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.handleSubmit}},[t._v(" 推文 ")])])])])])])])])])},g=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"mobile-navbar-folding-icon",attrs:{for:"navbar-folding-checkbox"}},[r("i",{staticClass:"fas fa-bars"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn-tweet",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"}},[r("div",[t._v("推文")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-header"},[r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("div",{staticClass:"btn-cancel pointer"})])])}],b=(r("a4d3"),r("e01a"),r("13d5"),r("b0c0"),r("b64b"),r("07ac"),r("498a"),r("8969")),w=r("d308"),x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[r("path",{staticClass:"svg-fill",attrs:{d:"M12 8.20996C9.90996 8.20996 8.20996 9.90996 8.20996 12C8.20996 14.09 9.90996 15.79 12 15.79C14.09 15.79 15.79 14.09 15.79 12C15.79 9.90996 14.09 8.20996 12 8.20996ZM12 14.29C10.738 14.29 9.70996 13.264 9.70996 12C9.70996 10.736 10.74 9.70996 12 9.70996C13.26 9.70996 14.29 10.736 14.29 12C14.29 13.264 13.262 14.29 12 14.29Z",fill:"#1C1C1C"}}),r("path",{staticClass:"svg-fill",attrs:{d:"M12.36 22.375H11.638C10.455 22.375 9.48399 21.487 9.37599 20.311L9.36199 20.164C9.33699 19.877 9.15499 19.631 8.88999 19.52C8.60399 19.4 8.30799 19.455 8.09199 19.635L7.97599 19.732C7.10799 20.457 5.72299 20.395 4.91599 19.592L4.40599 19.082C3.56999 18.242 3.50999 16.928 4.26599 16.022L4.36399 15.904C4.54999 15.682 4.59399 15.381 4.48599 15.117C4.37599 14.845 4.12799 14.663 3.83999 14.637L3.68999 14.623C2.50999 14.516 1.62299 13.543 1.62299 12.361V11.639C1.62299 10.456 2.51099 9.485 3.68699 9.377L3.84299 9.363C4.12799 9.338 4.37299 9.156 4.48499 8.89C4.59499 8.62 4.54999 8.317 4.36499 8.095L4.27099 7.979C3.51399 7.071 3.57299 5.756 4.40799 4.919L4.91999 4.407C5.72399 3.603 7.10799 3.542 7.97999 4.267L8.09599 4.365C8.31399 4.549 8.62399 4.595 8.88599 4.487C9.15599 4.375 9.33799 4.129 9.36299 3.844L9.37699 3.691C9.48399 2.511 10.457 1.625 11.639 1.625H12.361C13.544 1.625 14.515 2.513 14.623 3.689L14.637 3.845C14.662 4.13 14.843 4.375 15.109 4.485C15.386 4.602 15.689 4.547 15.903 4.368L16.023 4.266C16.89 3.543 18.277 3.604 19.083 4.406L19.593 4.918C20.429 5.756 20.489 7.071 19.733 7.978L19.633 8.096C19.445 8.316 19.399 8.618 19.51 8.884C19.622 9.154 19.87 9.334 20.156 9.362L20.308 9.376C21.488 9.483 22.375 10.456 22.375 11.638V12.361C22.375 13.544 21.487 14.515 20.311 14.623L20.156 14.637C19.872 14.661 19.626 14.842 19.516 15.107C19.403 15.379 19.449 15.681 19.633 15.902L19.733 16.022C20.489 16.927 20.429 18.242 19.593 19.082L19.083 19.592C18.276 20.396 16.893 20.456 16.023 19.732L15.908 19.636C15.691 19.453 15.378 19.406 15.118 19.514C14.845 19.628 14.663 19.874 14.638 20.16L14.624 20.31C14.517 21.483 13.544 22.37 12.362 22.37L12.36 22.375ZM8.58699 17.955C8.88699 17.955 9.17999 18.015 9.45699 18.13C10.247 18.458 10.781 19.184 10.857 20.026L10.871 20.173C10.908 20.573 11.238 20.873 11.641 20.873H12.363C12.763 20.873 13.093 20.573 13.131 20.173L13.145 20.025C13.221 19.183 13.755 18.458 14.537 18.133C15.33 17.803 16.233 17.951 16.87 18.483L16.983 18.577C17.161 18.725 17.349 18.757 17.476 18.757C17.682 18.757 17.876 18.677 18.022 18.53L18.532 18.02C18.816 17.736 18.837 17.29 18.58 16.982L18.48 16.862C17.938 16.212 17.803 15.322 18.128 14.539C18.454 13.749 19.18 13.219 20.022 13.142L20.177 13.128C20.574 13.091 20.877 12.761 20.877 12.358V11.636C20.877 11.236 20.574 10.906 20.175 10.868L20.023 10.854C19.177 10.776 18.453 10.244 18.128 9.461C17.802 8.673 17.938 7.783 18.481 7.134L18.581 7.016C18.838 6.706 18.817 6.26 18.533 5.976L18.023 5.466C17.877 5.319 17.683 5.239 17.477 5.239C17.35 5.239 17.162 5.271 16.985 5.419L16.865 5.519C16.231 6.047 15.315 6.189 14.543 5.873C13.755 5.546 13.223 4.821 13.146 3.977L13.132 3.822C13.097 3.425 12.767 3.122 12.365 3.122H11.642C11.242 3.122 10.912 3.425 10.874 3.824L10.86 3.976C10.784 4.819 10.252 5.544 9.46999 5.869C8.68299 6.195 7.77699 6.052 7.13999 5.519L7.02199 5.423C6.84199 5.273 6.65399 5.243 6.52699 5.243C6.32099 5.243 6.12699 5.323 5.98099 5.469L5.46899 5.979C5.18699 6.263 5.16599 6.709 5.42299 7.017L5.52299 7.135C6.06299 7.788 6.19999 8.679 5.87499 9.46C5.54799 10.248 4.82299 10.78 3.97999 10.857L3.82399 10.871C3.42699 10.908 3.12399 11.238 3.12399 11.641V12.363C3.12399 12.763 3.42699 13.093 3.82599 13.131L3.97599 13.145C4.82399 13.223 5.54899 13.757 5.87299 14.541C6.19799 15.327 6.06299 16.216 5.51999 16.866L5.42399 16.981C5.16399 17.291 5.18599 17.737 5.46999 18.021L5.97999 18.531C6.12599 18.678 6.31999 18.758 6.52599 18.758C6.65299 18.758 6.84099 18.728 7.01799 18.578L7.13399 18.482C7.53999 18.146 8.05699 17.958 8.58699 17.958V17.955Z",fill:"#1C1C1C"}})])},k=[],y={},_=Object(p["a"])(y,x,k,!1,null,null,null),U=_.exports,L=r("c8d1"),I=r("b777"),O=r("2708"),P=r("ec26"),E=r("84e8"),A={components:{Logo:b["a"],IconHome:w["a"],IconSetting:U,IconUserProfile:L["a"],IconSignOut:I["a"]},data:function(){return{avatar:"",id:-1,description:"",createdAt:"",unread:0,privateUnread:0}},watch:{isInPublicChatRoom:function(t){!0===t&&(this.unread=0)},isInPrivateChatRoom:function(t){!0===t&&(this.privateUnread=0)}},created:function(){},mounted:function(){this.$socket.auth.token=localStorage.getItem("token"),this.$socket.open(),this.fetchUnreads(),this.fetchTotalPrivateUnreads()},beforeRouteEnter:function(t,e,r){r()},updated:function(){},destroyed:function(){this.$socket.auth.token="",this.$socket.close()},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["currentUser","isAuthenticated","isInPublicChatRoom","isInPrivateChatRoom"])),{},{isDescriptionOverSize:function(){return this.description.length>140}}),sockets:{"public-message":function(){"/public-chatroom"!==this.$route.path&&this.unread++},"private-message":function(){this.fetchTotalPrivateUnreads()},"message-read-timestamp":function(){this.fetchTotalPrivateUnreads()}},methods:{signOut:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")},handleSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.description.trim()){e.next=5;break}return u["a"].fire({icon:"error",title:"親愛的用戶，請勿發空空的思念。"}),e.abrupt("return");case 5:if(!(t.description.length>140)){e.next=8;break}return u["a"].fire({icon:"error",title:"推文字數超過140囉！"}),e.abrupt("return");case 8:return e.prev=8,t.createdAt=Date.now(),e.next=12,l["a"].addUserNewTweet({description:t.description,createdAt:t.createdAt});case 12:if(r=e.sent,200===r.status){e.next=15;break}throw new Error(r);case 15:t.$emit("after-create-tweet",{User:{id:t.currentUser.id,account:t.currentUser.account,name:t.currentUser.name,avatar:t.currentUser.avatar},id:Object(P["a"])(),name:t.currentUser.name,description:t.description,createdAt:t.createdAt,repliesCount:0,likesCount:0,isLiked:!1}),t.description="",e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](8),console.log(e.t0),u["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 23:case"end":return e.stop()}}),e,null,[[8,19]])})))()},fetchUnreads:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E["a"].getPublicChatRoomUnread({userId:t.currentUser.id});case 3:if(r=e.sent,t.unread=r.data.count,200===r.status){e.next=7;break}throw new Error(r);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法取得公開聊天室未讀數量，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchTotalPrivateUnreads:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E["a"].getPrivateChatRoomUnread();case 3:if(r=e.sent,a=r.data,0!==Object.keys(a).length){e.next=8;break}return t.privateUnread=0,e.abrupt("return");case 8:if(n=Object.values(a),i=function(t,e){return t+e},t.privateUnread=n.reduce(i),200===r.status){e.next=13;break}throw new Error(r);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法取得私人聊天室總未讀數量，請稍後再試"});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},foldNavbar:function(){var t=document.getElementById("navbar-folding-checkbox");t.checked=!1}},mixins:[O["c"]],filters:{unreadOver:function(t){return t>99?"99+":t}}},N=A,S=(r("e5ab"),Object(p["a"])(N,m,g,!1,null,"bf918d04",null)),R=S.exports,F={components:{TopFollowersUser:h,Navbar:R},data:function(){return{newTweetsPayload:{},addFollowingPayload:{},deleteFollowingPayload:{}}},created:function(){},mounted:function(){},methods:{afterCreateTweet:function(t){this.newTweetsPayload=t},afterClickAddFollowingPayload:function(t){this.addFollowingPayload=t},afterClickDeleteFollowingPayload:function(t){this.deleteFollowingPayload=t}}},T=F,j=(r("ed6b"),Object(p["a"])(T,a,n,!1,null,"795efbd9",null));e["default"]=j.exports},9784:function(t,e,r){"use strict";r("41a1")},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),i=r("94ca"),s=r("6eeb"),o=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),v=r("241c").f,p=r("06cf").f,C=r("9bf2").f,h=r("58a8").trim,m="Number",g=n[m],b=g.prototype,w=c(f(b))==m,x=function(t){var e,r,a,n,i,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(i=l.slice(2),s=i.length,o=0;o<s;o++)if(c=i.charCodeAt(o),c<48||c>n)return NaN;return parseInt(i,a)}return+l};if(i(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,y=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof y&&(w?d((function(){b.valueOf.call(r)})):c(r)!=m)?l(new g(x(e)),r,y):x(e)},_=a?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),U=0;_.length>U;U++)o(g,k=_[U])&&!o(y,k)&&C(y,k,p(g,k));y.prototype=b,b.constructor=y,s(n,m,y)}},b777:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[r("path",{staticClass:"svg-fill",attrs:{d:"M11 16L7 12M7 12L11 8M7 12H21M16 16V17C16 17.7956 15.6839 18.5587 15.1213 19.1213C14.5587 19.6839 13.7956 20 13 20H6C5.20435 20 4.44129 19.6839 3.87868 19.1213C3.31607 18.5587 3 17.7956 3 17V7C3 6.20435 3.31607 5.44129 3.87868 4.87868C4.44129 4.31607 5.20435 4 6 4H13C13.7956 4 14.5587 4.31607 15.1213 4.87868C15.6839 5.44129 16 6.20435 16 7V8",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},n=[],i=r("2877"),s={},o=Object(i["a"])(s,a,n,!1,null,null,null);e["a"]=o.exports},c8d1:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[r("path",{staticClass:"svg-fill",attrs:{d:"M12 11.8158C13.355 11.8158 14.872 11.6658 15.84 10.5598C16.654 9.62976 16.918 8.19176 16.646 6.16776C16.266 3.34276 14.529 1.65576 12 1.65576C9.47103 1.65576 7.73403 3.34276 7.35403 6.16976C7.08203 8.19176 7.34603 9.62976 8.16003 10.5598C9.12803 11.6668 10.645 11.8158 12 11.8158ZM8.84003 6.36776C9.00203 5.16776 9.62703 3.15576 12 3.15576C14.373 3.15576 14.998 5.16876 15.16 6.36776C15.367 7.91776 15.217 8.99476 14.71 9.57276C14.255 10.0928 13.444 10.3158 12 10.3158C10.556 10.3158 9.74503 10.0928 9.29003 9.57276C8.78303 8.99476 8.63303 7.91676 8.84003 6.36776ZM20.28 19.2358C19.403 15.7098 15.998 13.2458 12 13.2458C8.00203 13.2458 4.59703 15.7098 3.72003 19.2358C3.54803 19.9278 3.69203 20.6358 4.11503 21.1758C4.52303 21.6958 5.15503 21.9958 5.84803 21.9958H18.152C18.845 21.9958 19.477 21.6958 19.885 21.1758C20.309 20.6358 20.452 19.9288 20.279 19.2358H20.28ZM18.704 20.2518C18.578 20.4118 18.388 20.4978 18.152 20.4978H5.84803C5.61303 20.4978 5.42203 20.4128 5.29603 20.2518C5.15903 20.0778 5.11603 19.8398 5.17603 19.5978C5.88603 16.7428 8.69303 14.7478 12 14.7478C15.307 14.7478 18.114 16.7418 18.824 19.5978C18.884 19.8398 18.841 20.0778 18.704 20.2518Z",fill:"#1C1C1C"}})])},n=[],i=r("2877"),s={},o=Object(i["a"])(s,a,n,!1,null,null,null);e["a"]=o.exports},c8d2:function(t,e,r){var a=r("d039"),n=r("5899"),i="​᠎";t.exports=function(t){return a((function(){return!!n[t]()||i[t]()!=i||n[t].name!==t}))}},d308:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[r("path",{staticClass:"svg-fill",attrs:{d:"M22.58 7.34986L12.475 1.89686C12.178 1.73686 11.821 1.73686 11.525 1.89686L1.42502 7.34986C0.939018 7.61386 0.758018 8.21986 1.02002 8.70586C1.20002 9.04086 1.54502 9.23086 1.90002 9.23086C2.06002 9.23086 2.22402 9.19286 2.37502 9.11086L3.10902 8.71486L4.69902 19.9649C4.91502 21.1789 6.00902 22.0269 7.35902 22.0269H16.641C17.991 22.0269 19.085 21.1789 19.303 19.9389L20.891 8.71386L21.628 9.11186C22.113 9.37486 22.72 9.19386 22.982 8.70786C23.245 8.22186 23.062 7.61486 22.578 7.35286L22.58 7.34986ZM12 15.4349C10.205 15.4349 8.75002 13.9799 8.75002 12.1849C8.75002 10.3899 10.205 8.93486 12 8.93486C13.795 8.93486 15.25 10.3899 15.25 12.1849C15.25 13.9799 13.795 15.4349 12 15.4349Z",fill:"#1C1C1C"}})])},n=[],i={},s=i,o=r("2877"),c=Object(o["a"])(s,a,n,!1,null,null,null);e["a"]=c.exports},d58f:function(t,e,r){var a=r("1c0b"),n=r("7b0b"),i=r("44ad"),s=r("50c4"),o=function(t){return function(e,r,o,c){a(r);var l=n(e),u=i(l),d=s(l.length),f=t?d-1:0,v=t?-1:1;if(o<2)while(1){if(f in u){c=u[f],f+=v;break}if(f+=v,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=v)f in u&&(c=r(c,u[f],f,l));return c}};t.exports={left:o(!1),right:o(!0)}},d81d:function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").map,i=r("1dde"),s=r("ae40"),o=i("map"),c=s("map");a({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e5ab:function(t,e,r){"use strict";r("45e8")},ec26:function(t,e,r){"use strict";var a,n=new Uint8Array(16);function i(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(n)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o(t){return"string"===typeof t&&s.test(t)}for(var c=o,l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r}var f=d;function v(t,e,r){t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=a[n];return e}return f(a)}e["a"]=v},ed6b:function(t,e,r){"use strict";r("6c11")},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),i=r("e8b5"),s=r("23cb"),o=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),d=r("1dde"),f=r("ae40"),v=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),C=u("species"),h=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!v||!p},{slice:function(t,e){var r,a,u,d=c(this),f=o(d.length),v=s(t,f),p=s(void 0===e?f:e,f);if(i(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[C],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return h.call(d,v,p);for(a=new(void 0===r?Array:r)(m(p-v,0)),u=0;v<p;v++,u++)v in d&&l(a,u,d[v]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-67c1e80f.0516ef03.js.map