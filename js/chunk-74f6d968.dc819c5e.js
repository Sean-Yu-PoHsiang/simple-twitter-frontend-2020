(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74f6d968"],{"0925":function(e,t,s){"use strict";s("90e7")},"90e7":function(e,t,s){},a665:function(e,t,s){},c2e8:function(e,t,s){"use strict";s("a665")},f1f8:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("TweetsAndReplies",{attrs:{initialTweetsAndReplies:e.tweetsWithReplies,initialUserProfile:e.userProfile}})},a=[],i=(s("96cf"),s("1da1")),n=s("5530"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"all-users-newest-tweets"},[0===e.tweetsAndReplies.length?s("div",{staticClass:"d-flex justify-content-center"},[s("p",{staticClass:"p-3 text-black-50"},[e._v("No replies")])]):e._e(),e._l(e.tweetsAndReplies,(function(t){return s("router-link",{key:t.id,staticClass:"avator-and-tweet d-flex flex-column hover-background",attrs:{to:{name:"tweet",params:{tweetId:t.Tweet.id}}}},[s("div",{staticClass:"d-flex first-box"},[s("router-link",{attrs:{to:{name:"user",params:{userId:t.Tweet.UserId}}}},[s("img",{staticClass:"user-avator",attrs:{src:t.Tweet.User.avatar||"https://i.imgur.com/S4PE66O.png",alt:""}})]),s("div",{staticClass:"w-100"},[s("div",{staticClass:"tweet-detail"},[s("router-link",{staticClass:"hover-underline",attrs:{to:{name:"user",params:{userId:t.Tweet.UserId}}}},[s("div",{staticClass:"user-name"},[e._v(e._s(t.Tweet.User.name))])]),s("div",[s("span",{staticClass:"at-user"},[e._v("@"+e._s(t.Tweet.User.account))]),s("span",[e._v("・")]),s("span",{staticClass:"tweet-update-time"},[e._v(e._s(e._f("fromNow")(t.Tweet.createdAt)))])])],1),s("div",{staticClass:"tweet-text words"},[e._v(" "+e._s(t.Tweet.description)+" ")])]),s("div",{staticClass:"connection-line"})],1),s("div",{staticClass:"d-flex mt-3"},[s("router-link",{attrs:{to:{name:"user",params:{userId:e.userProfile.id}}}},[s("img",{staticClass:"user-avator",attrs:{src:e.userProfile.avatar||"https://i.imgur.com/S4PE66O.png",alt:""}})]),s("div",{staticClass:"w-100"},[s("div",{staticClass:"tweet-detail"},[s("router-link",{staticClass:"hover-underline",attrs:{to:{name:"user",params:{userId:e.userProfile.id}}}},[s("div",{staticClass:"user-name"},[e._v(e._s(e.userProfile.name))])]),s("div",[s("span",{staticClass:"at-user"},[e._v("@"+e._s(e.userProfile.account))]),s("span",[e._v("・")]),s("span",{staticClass:"tweet-update-time"},[e._v(e._s(e._f("fromNow")(t.createdAt)))])])],1),s("div",{staticClass:"tweet-detail"},[s("div",{},[e._v("回覆給")]),s("span",{staticClass:"at-user orange"},[e._v("@"+e._s(t.Tweet.User.account))])]),s("div",{staticClass:"tweet-text words"},[e._v(" "+e._s(t.comment)+" ")])])],1)])}))],2)},u=[],o=s("c1df"),l=s.n(o),d=s("2f62"),f={components:{},props:{initialTweetsAndReplies:{type:Array,required:!0},initialUserProfile:{type:Object,required:!0}},data:function(){return{tweetsAndReplies:this.initialTweetsAndReplies,userProfile:this.initialUserProfile}},computed:Object(n["a"])({},Object(d["b"])(["currentUser","isAuthenticated"])),watch:{initialTweetsAndReplies:function(e){this.tweetsAndReplies=e},initialUserProfile:function(e){this.userProfile=e}},filters:{fromNow:function(e){return e?l()(e).fromNow():"-"}}},p=f,w=(s("0925"),s("2877")),v=Object(w["a"])(p,c,u,!1,null,"1196c4ab",null),m=v.exports,h=s("1602"),_=s("2fa3"),R={components:{TweetsAndReplies:m},data:function(){return{userProfile:{},tweetsWithReplies:[]}},computed:Object(n["a"])({},Object(d["b"])(["currentUser","isAuthenticated"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.$route.params.userId,t.next=3,e.fetchUserProfile(s);case 3:e.fetchUserTweetsWithReplies(s);case 4:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(e,t,s){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.params.userId,t.next=3,r.fetchUserProfile(a);case 3:r.fetchUserTweetsWithReplies(a),s();case 5:case"end":return t.stop()}}),t)})))()},methods:{fetchUserProfile:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,h["a"].getUserProfile({userId:e});case 3:r=s.sent,a=r.data,t.userProfile=a,t.userProfile=Object(n["a"])(Object(n["a"])({},t.userProfile),a),s.next=13;break;case 9:s.prev=9,s.t0=s["catch"](0),console.log(s.t0),_["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,9]])})))()},fetchUserTweetsWithReplies:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,h["a"].getUserTweetsWithReplies({userId:e});case 3:r=s.sent,a=r.data,t.tweetsWithReplies=a,s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0),_["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()}}},C=R,b=(s("c2e8"),Object(w["a"])(C,r,a,!1,null,"86875886",null));t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-74f6d968.dc819c5e.js.map