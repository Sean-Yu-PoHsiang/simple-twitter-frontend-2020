{"version":3,"sources":["webpack:///./src/views/UserSetting.vue?5ce7","webpack:///./src/views/UserSetting.vue?6b10","webpack:///src/views/UserSetting.vue","webpack:///./src/views/UserSetting.vue?4d1d","webpack:///./src/views/UserSetting.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","stopPropagation","preventDefault","handleSubmit","directives","name","rawName","value","expression","attrs","domProps","target","composing","account","email","password","checkPassword","_m","staticRenderFns","components","data","created","currentUser","computed","methods","component"],"mappings":"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","file":"js/chunk-b6bc25b6.c0e55a5b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSetting.vue?vue&type=style&index=0&id=feb12d22&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col user-setting-wrapper vh100scroll\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"帳戶設定\")]),_c('form',{staticClass:\"input-forms\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"input-title\"},[_vm._v(\"帳號\")]),_c('label',{staticClass:\"form-label\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.account=$event.target.value}}})]),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"input-title\"},[_vm._v(\"名稱\")]),_c('label',{staticClass:\"form-label\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"input-title\"},[_vm._v(\"email\")]),_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"inputEmail\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"inputEmail\",\"aria-describedby\":\"emailHelp\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('div',{staticClass:\"form-text\",attrs:{\"id\":\"emailHelp\"}})]),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"input-title\"},[_vm._v(\"密碼\")]),_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"password\",\"aria-placeholder\":\"密碼\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"input-title\"},[_vm._v(\"密碼確認\")]),_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"password-confirm\",\"aria-placeholder\":\"密碼確認\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkPassword),expression:\"checkPassword\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password-confirm\"},domProps:{\"value\":(_vm.checkPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.checkPassword=$event.target.value}}})]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-end\"},[_c('button',{staticClass:\"btn btn-submit\",attrs:{\"type\":\"submit\",\"id\":\"btn-submit\"}},[_vm._v(\" 儲存 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"col user-setting-wrapper vh100scroll\">\n    <div class=\"title\">帳戶設定</div>\n\n    <form class=\"input-forms\" @submit.stop.prevent=\"handleSubmit\">\n      <div class=\"input-container\">\n        <div class=\"input-title\">帳號</div>\n        <label class=\"form-label\"></label>\n        <input v-model=\"account\" type=\"text\" class=\"form-control\" />\n      </div>\n      <div class=\"input-container\">\n        <div class=\"input-title\">名稱</div>\n        <label class=\"form-label\"></label>\n        <input v-model=\"name\" type=\"text\" class=\"form-control\" />\n      </div>\n      <div class=\"input-container\">\n        <div class=\"input-title\">email</div>\n        <label for=\"inputEmail\" class=\"form-label\"></label>\n        <input\n          v-model=\"email\"\n          type=\"email\"\n          class=\"form-control\"\n          id=\"inputEmail\"\n          aria-describedby=\"emailHelp\"\n        />\n        <div id=\"emailHelp\" class=\"form-text\"></div>\n      </div>\n      <div class=\"input-container\">\n        <div class=\"input-title\">密碼</div>\n        <label\n          for=\"password\"\n          class=\"form-label\"\n          aria-placeholder=\"密碼\"\n        ></label>\n        <input\n          v-model=\"password\"\n          type=\"password\"\n          class=\"form-control\"\n          id=\"password\"\n        />\n      </div>\n      <div class=\"input-container\">\n        <div class=\"input-title\">密碼確認</div>\n        <label\n          for=\"password-confirm\"\n          class=\"form-label\"\n          aria-placeholder=\"密碼確認\"\n        ></label>\n        <input\n          v-model=\"checkPassword\"\n          type=\"password\"\n          class=\"form-control\"\n          id=\"password-confirm\"\n        />\n      </div>\n      <div class=\"flex-end\">\n        <button type=\"submit\" class=\"btn btn-submit\" id=\"btn-submit\">\n          儲存\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\nimport authorizationAPI from \"./../apis/authorization\"\nimport { Toast } from \"./../utils/helpers\"\n\nexport default {\n  components: {},\n  data() {\n    return {\n      account: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      checkPassword: \"\",\n    }\n  },\n  created() {\n    this.account = this.currentUser.account\n    this.name = this.currentUser.name\n    this.email = this.currentUser.email\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async handleSubmit() {\n      if (!this.name) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填寫名稱\",\n        })\n        return\n      } else if (!this.account) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填寫帳號\",\n        })\n        return\n      } else if (!this.email) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填寫Email\",\n        })\n        return\n      } else if (!this.password) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填寫密碼\",\n        })\n        return\n      } else if (!this.checkPassword) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"請填寫密碼確認\",\n        })\n        return\n      } else if (this.checkPassword !== this.password) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"密碼與密碼確認不符\",\n        })\n        return\n      }\n\n      try {\n        let userEditContent = {\n          userId: this.currentUser.id,\n          account: this.account,\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          checkPassword: this.checkPassword\n        }\n\n        const response = await authorizationAPI.EditUserSetting(userEditContent)\n\n        if (response.status === \"error\") {\n          throw new Error(response.message)\n        }\n\n        userEditContent = { ...userEditContent, password: \"\", checkPassword: \"\" }\n\n        Toast.fire({\n          icon: 'success',\n          title: `修改成功！`\n        })\n        this.$store.commit('setCurrentUser', userEditContent)\n        this.$router.push({ name: 'home' })\n\n      } catch (error) {\n        console.log(\"err\", error)\n        Toast.fire({\n          icon: \"error\",\n          title: `無法儲存設定，${error}`,\n        })\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* 版面調整 */\n.setting-page {\n  width: 100%;\n  display: flex;\n}\n\n/* 表單區 */\n.user-setting-wrapper {\n  width: 100%;\n  border-left: 1px solid #e6ecf0;\n}\n\n.col {\n  padding: 0;\n}\n\n.title {\n  padding: 15px;\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 19px;\n  line-height: 28px;\n  color: #1c1c1c;\n  border-bottom: 1px solid #e6ecf0;\n}\n\n.input-forms {\n  width: 100%;\n  max-width: 640px;\n  padding: 0 15px;\n}\n/* 表單本身 */\n.input-container {\n  position: relative;\n}\n\ninput {\n  text-align: start;\n  vertical-align: bottom;\n  position: relative;\n  height: 50px;\n  border-style: none;\n  background: #f5f8fa;\n  border-radius: 4px;\n  border-bottom: 2px solid #657786;\n  padding-top: 30px;\n}\n\n.input-title {\n  position: absolute;\n  font-family: Noto Sans TC;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 15px;\n  line-height: 15px;\n  color: #657786;\n  top: 28px;\n  left: 12px;\n  z-index: 2;\n}\n/* 按鈕 */\n\n.btn-submit {\n  height: 50px;\n  background: #ff6600;\n  border-radius: 50px;\n  width: 122px;\n  margin-top: 30px;\n  border: 1px solid transparent;\n  outline: none;\n  color: #ffffff;\n}\n\n.flex-end {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.active {\n  background: #ff6600;\n  border-radius: 50px;\n  width: 122px;\n  margin-top: 30px;\n  border: 1px solid transparent;\n  outline: none;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSetting.vue?vue&type=template&id=feb12d22&scoped=true&\"\nimport script from \"./UserSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSetting.vue?vue&type=style&index=0&id=feb12d22&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"feb12d22\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}