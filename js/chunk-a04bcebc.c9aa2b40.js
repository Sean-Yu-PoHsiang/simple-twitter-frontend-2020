(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a04bcebc"],{"1f06":function(t,e,n){},2708:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o}));n("fb6a");var r=n("c1df"),s=n.n(r),a={filters:{fromNow:function(t){return t?s()(t).fromNow():"-"}}},i={filters:{emptyImage:function(t){return t||"https://i.imgur.com/S4PE66O.png"}}},c={filters:{emptyCover:function(t){return t||"https://i.imgur.com/K6Azg87.png"}}},o={filters:{contentToLong:function(t){return t.length<=50?t:t.slice(0,49)+"..."}}}},"53fe":function(t,e,n){"use strict";n("cb2e")},a17f:function(t,e,n){"use strict";n("1f06")},b777:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[n("path",{staticClass:"svg-fill",attrs:{d:"M11 16L7 12M7 12L11 8M7 12H21M16 16V17C16 17.7956 15.6839 18.5587 15.1213 19.1213C14.5587 19.6839 13.7956 20 13 20H6C5.20435 20 4.44129 19.6839 3.87868 19.1213C3.31607 18.5587 3 17.7956 3 17V7C3 6.20435 3.31607 5.44129 3.87868 4.87868C4.44129 4.31607 5.20435 4 6 4H13C13.7956 4 14.5587 4.31607 15.1213 4.87868C15.6839 5.44129 16 6.20435 16 7V8",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},s=[],a=n("2877"),i={},c=Object(a["a"])(i,r,s,!1,null,null,null);e["a"]=c.exports},be6c:function(t,e,n){"use strict";var r=n("2fa3"),s=function(){return localStorage.getItem("token")};e["a"]={getAllUsers:function(){return r["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(s())}})},getAllTweets:function(){return r["b"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(s())}})},deleteTweet:function(t){var e=t.tweetId;return r["b"].delete("/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(s())}})}}},c8d1:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[n("path",{staticClass:"svg-fill",attrs:{d:"M12 11.8158C13.355 11.8158 14.872 11.6658 15.84 10.5598C16.654 9.62976 16.918 8.19176 16.646 6.16776C16.266 3.34276 14.529 1.65576 12 1.65576C9.47103 1.65576 7.73403 3.34276 7.35403 6.16976C7.08203 8.19176 7.34603 9.62976 8.16003 10.5598C9.12803 11.6668 10.645 11.8158 12 11.8158ZM8.84003 6.36776C9.00203 5.16776 9.62703 3.15576 12 3.15576C14.373 3.15576 14.998 5.16876 15.16 6.36776C15.367 7.91776 15.217 8.99476 14.71 9.57276C14.255 10.0928 13.444 10.3158 12 10.3158C10.556 10.3158 9.74503 10.0928 9.29003 9.57276C8.78303 8.99476 8.63303 7.91676 8.84003 6.36776ZM20.28 19.2358C19.403 15.7098 15.998 13.2458 12 13.2458C8.00203 13.2458 4.59703 15.7098 3.72003 19.2358C3.54803 19.9278 3.69203 20.6358 4.11503 21.1758C4.52303 21.6958 5.15503 21.9958 5.84803 21.9958H18.152C18.845 21.9958 19.477 21.6958 19.885 21.1758C20.309 20.6358 20.452 19.9288 20.279 19.2358H20.28ZM18.704 20.2518C18.578 20.4118 18.388 20.4978 18.152 20.4978H5.84803C5.61303 20.4978 5.42203 20.4128 5.29603 20.2518C5.15903 20.0778 5.11603 19.8398 5.17603 19.5978C5.88603 16.7428 8.69303 14.7478 12 14.7478C15.307 14.7478 18.114 16.7418 18.824 19.5978C18.884 19.8398 18.841 20.0778 18.704 20.2518Z",fill:"#1C1C1C"}})])},s=[],a=n("2877"),i={},c=Object(a["a"])(i,r,s,!1,null,null,null);e["a"]=c.exports},cb2e:function(t,e,n){},d308:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[n("path",{staticClass:"svg-fill",attrs:{d:"M22.58 7.34986L12.475 1.89686C12.178 1.73686 11.821 1.73686 11.525 1.89686L1.42502 7.34986C0.939018 7.61386 0.758018 8.21986 1.02002 8.70586C1.20002 9.04086 1.54502 9.23086 1.90002 9.23086C2.06002 9.23086 2.22402 9.19286 2.37502 9.11086L3.10902 8.71486L4.69902 19.9649C4.91502 21.1789 6.00902 22.0269 7.35902 22.0269H16.641C17.991 22.0269 19.085 21.1789 19.303 19.9389L20.891 8.71386L21.628 9.11186C22.113 9.37486 22.72 9.19386 22.982 8.70786C23.245 8.22186 23.062 7.61486 22.578 7.35286L22.58 7.34986ZM12 15.4349C10.205 15.4349 8.75002 13.9799 8.75002 12.1849C8.75002 10.3899 10.205 8.93486 12 8.93486C13.795 8.93486 15.25 10.3899 15.25 12.1849C15.25 13.9799 13.795 15.4349 12 15.4349Z",fill:"#1C1C1C"}})])},s=[],a={},i=a,c=n("2877"),o=Object(c["a"])(i,r,s,!1,null,null,null);e["a"]=o.exports},d81d:function(t,e,n){"use strict";var r=n("23e7"),s=n("b727").map,a=n("1dde"),i=n("ae40"),c=a("map"),o=i("map");r({target:"Array",proto:!0,forced:!c||!o},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e04c:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"d-flex flex-column"},[n("Logo",{staticClass:"mt-3 mb-5"}),n("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:"/admin/tweets"}},[n("IconHome",{staticClass:"mr-3"}),t._v(" 推文清單 ")],1),n("router-link",{staticClass:"nav-btn d-flex fonSize18 align-items-center",attrs:{to:"/admin/users"}},[n("IconUserProfile",{staticClass:"mr-3"}),t._v(" 使用者列表 ")],1),n("button",{staticClass:"btn sign-out-btn d-flex fonSize18 align-items-center",attrs:{type:"button"},on:{click:t.signOut}},[n("IconSignOut",{staticClass:"mr-3"}),t._v(" 登出 ")],1)],1)},s=[],a=n("8969"),i=n("d308"),c=n("c8d1"),o=n("b777"),l={components:{Logo:a["a"],IconHome:i["a"],IconUserProfile:c["a"],IconSignOut:o["a"]},methods:{signOut:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/signin")}}},u=l,f=(n("a17f"),n("2877")),d=Object(f["a"])(u,r,s,!1,null,"812348fe",null);e["a"]=d.exports},fa6a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-auto"},[n("AdminNav")],1),n("div",{staticClass:"panel-right col"},[n("h1",{staticClass:"title"},[t._v("推文清單")]),n("div",{staticClass:"tweets-panel px-3"},[n("div",{staticClass:"row"},t._l(t.tweets,(function(e){return n("div",{key:e.id,staticClass:"col-12"},[n("div",{staticClass:"tweet-card d-flex"},[n("img",{staticClass:"user-avatar",attrs:{src:t._f("emptyImage")(e.User.avatar),alt:"no pic"}}),n("div",{staticClass:"tweet-content"},[n("div",{staticClass:"tweet-content-title d-flex align-items-center mb-1"},[n("span",{staticClass:"user-name"},[t._v(t._s(e.User.name))]),n("span",{staticClass:"user-acount"},[t._v("@"+t._s(e.User.account))]),n("span",{staticClass:"dot fonSize30"},[t._v("⋅")]),n("span",{staticClass:"tweet-create-time"},[t._v(" "+t._s(e.createdAt)+" ")]),n("button",{staticClass:"btn-exit",on:{click:function(n){return t.deleteTweet(e.id)}}},[t._v(" ✕ ")])]),n("p",[t._v(" "+t._s(t._f("contentToLong")(e.description))+" ")])])])])})),0)])])])])},s=[],a=(n("4de4"),n("d81d"),n("96cf"),n("1da1")),i=n("e04c"),c=n("2708"),o=n("be6c"),l=n("2fa3"),u={components:{AdminNav:i["a"]},data:function(){return{tweets:[]}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].getAllTweets();case 3:n=e.sent,r=n.data,r.map((function(t){t.createdAt=new Date(t.createdAt).toLocaleString()})),t.tweets=r,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),l["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteTweet:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,confirm("確定刪除？")){n.next=3;break}return n.abrupt("return");case 3:return console.log("confirm delete"),n.next=6,o["a"].deleteTweet({tweetId:t});case 6:if(r=n.sent,s=r.data,"success"===s.status){n.next=10;break}throw new Error(s.message);case 10:e.tweets=e.tweets.filter((function(e){return e.id!==t})),n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](0),console.log(n.t0),l["a"].fire({icon:"error",title:"刪除推文失敗，請稍後再試"});case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))()}},mixins:[c["c"],c["d"],c["a"]]},f=u,d=(n("53fe"),n("2877")),C=Object(d["a"])(f,r,s,!1,null,"7ffe2d14",null);e["default"]=C.exports},fb6a:function(t,e,n){"use strict";var r=n("23e7"),s=n("861d"),a=n("e8b5"),i=n("23cb"),c=n("50c4"),o=n("fc6a"),l=n("8418"),u=n("b622"),f=n("1dde"),d=n("ae40"),C=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),w=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!C||!v},{slice:function(t,e){var n,r,u,f=o(this),d=c(f.length),C=i(t,d),v=i(void 0===e?d:e,d);if(a(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?s(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return w.call(f,C,v);for(r=new(void 0===n?Array:n)(g(v-C,0)),u=0;C<v;C++,u++)C in f&&l(r,u,f[C]);return r.length=u,r}})}}]);
//# sourceMappingURL=chunk-a04bcebc.c9aa2b40.js.map